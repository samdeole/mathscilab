{"ast":null,"code":"import _objectSpread from\"C:/Projects/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Profile(){const navigate=useNavigate();const[user,setUser]=useState(null);const[formData,setFormData]=useState({username:'',password:'',email:'',paidYear:''});useEffect(()=>{const currentUser=JSON.parse(localStorage.getItem('currentUser'));if(!currentUser){alert('Please log in to access your profile.');navigate('/login');}else{setUser(currentUser);setFormData({username:currentUser.username||'',password:currentUser.password||'',email:currentUser.email||'',paidYear:currentUser.paidYear||''});}},[navigate]);const handleChange=e=>{const{name,value}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const handleSave=()=>{const updatedUser=_objectSpread(_objectSpread({},user),formData);setUser(updatedUser);localStorage.setItem('currentUser',JSON.stringify(updatedUser));const allUsers=JSON.parse(localStorage.getItem('users'))||[];const updatedUsers=allUsers.map(u=>u.email===user.email?_objectSpread(_objectSpread({},u),formData):u);localStorage.setItem('users',JSON.stringify(updatedUsers));alert('Profile updated successfully!');navigate('/dashboard');};const handleLogout=()=>{localStorage.removeItem('currentUser');navigate('/login');};if(!user)return null;return/*#__PURE__*/_jsxs(\"div\",{style:styles.container,children:[/*#__PURE__*/_jsx(\"h2\",{style:styles.heading,children:\"Your Profile\"}),/*#__PURE__*/_jsxs(\"div\",{style:styles.form,children:[/*#__PURE__*/_jsx(\"label\",{style:styles.label,children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{name:\"username\",value:formData.username,onChange:handleChange,style:styles.input}),/*#__PURE__*/_jsx(\"label\",{style:styles.label,children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{name:\"email\",value:formData.email,disabled:true,style:_objectSpread(_objectSpread({},styles.input),{},{backgroundColor:'#eee'})}),/*#__PURE__*/_jsx(\"label\",{style:styles.label,children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{name:\"password\",type:\"password\",value:formData.password,onChange:handleChange,style:styles.input}),/*#__PURE__*/_jsx(\"label\",{style:styles.label,children:\"Enrolled Year \"}),/*#__PURE__*/_jsx(\"input\",{name:\"paidYear\",type:\"number\",min:\"1\",max:\"12\",value:formData.paidYear,onChange:handleChange,style:styles.input}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSave,style:styles.buttonGreen,children:\"Save Changes\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,style:styles.buttonGrey,children:\"Logout\"})]})]});}const styles={container:{padding:'2rem',maxWidth:'500px',margin:'2rem auto',background:'#ffffff',borderRadius:'8px',boxShadow:'0 2px 8px rgba(0,0,0,0.1)',fontFamily:'Segoe UI, sans-serif'},heading:{textAlign:'center',color:'#001F42',marginBottom:'1rem'},form:{display:'flex',flexDirection:'column'},label:{marginTop:'1rem',fontWeight:'bold'},input:{padding:'0.5rem',border:'1px solid #ccc',borderRadius:'4px',marginTop:'0.2rem'},buttonGreen:{marginTop:'1.5rem',padding:'0.6rem',backgroundColor:'#81b441',color:'white',fontWeight:'bold',border:'none',borderRadius:'4px',cursor:'pointer'},buttonGrey:{marginTop:'0.8rem',padding:'0.6rem',backgroundColor:'#999',color:'white',fontWeight:'bold',border:'none',borderRadius:'4px',cursor:'pointer'}};","map":{"version":3,"names":["React","useEffect","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","Profile","navigate","user","setUser","formData","setFormData","username","password","email","paidYear","currentUser","JSON","parse","localStorage","getItem","alert","handleChange","e","name","value","target","prev","_objectSpread","handleSave","updatedUser","setItem","stringify","allUsers","updatedUsers","map","u","handleLogout","removeItem","style","styles","container","children","heading","form","label","onChange","input","disabled","backgroundColor","type","min","max","onClick","buttonGreen","buttonGrey","padding","maxWidth","margin","background","borderRadius","boxShadow","fontFamily","textAlign","color","marginBottom","display","flexDirection","marginTop","fontWeight","border","cursor"],"sources":["C:/Projects/frontend/src/OnLogin/Profile.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nexport default function Profile() {\r\n  const navigate = useNavigate();\r\n  const [user, setUser] = useState(null);\r\n  const [formData, setFormData] = useState({\r\n    username: '',\r\n    password: '',\r\n    email: '',\r\n    paidYear: ''\r\n  });\r\n\r\n  useEffect(() => {\r\n    const currentUser = JSON.parse(localStorage.getItem('currentUser'));\r\n    if (!currentUser) {\r\n      alert('Please log in to access your profile.');\r\n      navigate('/login');\r\n    } else {\r\n      setUser(currentUser);\r\n      setFormData({\r\n        username: currentUser.username || '',\r\n        password: currentUser.password || '',\r\n        email: currentUser.email || '',\r\n        paidYear: currentUser.paidYear || ''\r\n      });\r\n    }\r\n  }, [navigate]);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prev) => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleSave = () => {\r\n    const updatedUser = { ...user, ...formData };\r\n    setUser(updatedUser);\r\n    localStorage.setItem('currentUser', JSON.stringify(updatedUser));\r\n\r\n    const allUsers = JSON.parse(localStorage.getItem('users')) || [];\r\n    const updatedUsers = allUsers.map(u =>\r\n      u.email === user.email ? { ...u, ...formData } : u\r\n    );\r\n    localStorage.setItem('users', JSON.stringify(updatedUsers));\r\n\r\n    alert('Profile updated successfully!');\r\n    navigate('/dashboard');\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('currentUser');\r\n    navigate('/login');\r\n  };\r\n\r\n  if (!user) return null;\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n      <h2 style={styles.heading}>Your Profile</h2>\r\n      <div style={styles.form}>\r\n        <label style={styles.label}>Username</label>\r\n        <input\r\n          name=\"username\"\r\n          value={formData.username}\r\n          onChange={handleChange}\r\n          style={styles.input}\r\n        />\r\n\r\n        <label style={styles.label}>Email</label>\r\n        <input\r\n          name=\"email\"\r\n          value={formData.email}\r\n          disabled\r\n          style={{ ...styles.input, backgroundColor: '#eee' }}\r\n        />\r\n\r\n        <label style={styles.label}>Password</label>\r\n        <input\r\n          name=\"password\"\r\n          type=\"password\"\r\n          value={formData.password}\r\n          onChange={handleChange}\r\n          style={styles.input}\r\n        />\r\n\r\n        <label style={styles.label}>Enrolled Year </label>\r\n        <input\r\n          name=\"paidYear\"\r\n          type=\"number\"\r\n          min=\"1\"\r\n          max=\"12\"\r\n          value={formData.paidYear}\r\n          onChange={handleChange}\r\n          style={styles.input}\r\n        />\r\n\r\n        <button onClick={handleSave} style={styles.buttonGreen}>\r\n          Save Changes\r\n        </button>\r\n        <button onClick={handleLogout} style={styles.buttonGrey}>\r\n          Logout\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst styles = {\r\n  container: {\r\n    padding: '2rem',\r\n    maxWidth: '500px',\r\n    margin: '2rem auto',\r\n    background: '#ffffff',\r\n    borderRadius: '8px',\r\n    boxShadow: '0 2px 8px rgba(0,0,0,0.1)',\r\n    fontFamily: 'Segoe UI, sans-serif',\r\n  },\r\n  heading: {\r\n    textAlign: 'center',\r\n    color: '#001F42',\r\n    marginBottom: '1rem'\r\n  },\r\n  form: {\r\n    display: 'flex',\r\n    flexDirection: 'column'\r\n  },\r\n  label: {\r\n    marginTop: '1rem',\r\n    fontWeight: 'bold'\r\n  },\r\n  input: {\r\n    padding: '0.5rem',\r\n    border: '1px solid #ccc',\r\n    borderRadius: '4px',\r\n    marginTop: '0.2rem'\r\n  },\r\n  buttonGreen: {\r\n    marginTop: '1.5rem',\r\n    padding: '0.6rem',\r\n    backgroundColor: '#81b441',\r\n    color: 'white',\r\n    fontWeight: 'bold',\r\n    border: 'none',\r\n    borderRadius: '4px',\r\n    cursor: 'pointer'\r\n  },\r\n  buttonGrey: {\r\n    marginTop: '0.8rem',\r\n    padding: '0.6rem',\r\n    backgroundColor: '#999',\r\n    color: 'white',\r\n    fontWeight: 'bold',\r\n    border: 'none',\r\n    borderRadius: '4px',\r\n    cursor: 'pointer'\r\n  }\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}